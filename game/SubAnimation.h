#include "stdafx.h"
#pragma once

class SubAnimation
{
	sf::IntRect * iRect = NULL;
	sf::Texture texture;
	sf::Clock zegar;
	sf::SoundBuffer buffer;
	sf::Sound sound;

	std::string ARG_name;
	int ARG_framNum, w=0;
	float ARG_length = 1;
	bool isName=false,issound=false;
public:
	//////////////////////////////////////////////////
	///\brief
	///set name of animation which is its ID
	///you can get it by getName()
	//////////////////////////////////////////////////
	void setName(std::string name);

	//////////////////////////////////////////////////
	///\brief
	///set filename and load texture of frames
	//////////////////////////////////////////////////
	void setTexture(std::string);

	//////////////////////////////////////////////////
	///\brief
	///set number of frames which will be shown
	//////////////////////////////////////////////////
	void setFrames(int);

	//////////////////////////////////////////////////
	///\brief
	///set lenght of animation
	//////////////////////////////////////////////////
	void setLength(float);

	/////////////////////////////////////////////////
	///\brief
	///set rectangle of texture which will be shown in selected frame
	/////////////////////////////////////////////////
	void setRect(int, int, int, int, int = 1);

	//////////////////////////////////////////////////
	///\brief
	///change to new frame or
	///change shown sprite to this animation
	//////////////////////////////////////////////////
	void setFrame(sf::Sprite*);

	//////////////////////////////////////////////////
	///\brief
	///sets sound which will be played while
	///animation playing
	//////////////////////////////////////////////////
	void setSound(std::string);

	//////////////////////////////////////////////////
	///\brief
	///resets time which passed while it wasn't ready to updated repeatedly
	//////////////////////////////////////////////////
	void resetTimer();

	//////////////////////////////////////////////////
	///\brief
	///\return number of frames
	//////////////////////////////////////////////////
	int getFrameNum();

	//////////////////////////////////////////////////
	///\brief
	///\return name of animation
	///or "none" if there isn't any
	//////////////////////////////////////////////////
	std::string getName();
};